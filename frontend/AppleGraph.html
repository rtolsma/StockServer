<html>
  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        var stockData = [{"_id":"5954279246c832437737acb4","time":1496928600,"close":155.29,"high":155.29,"low":155.24,"open":155.25,"volume":243207},{"_id":"5954279246c832437737acb5","time":1496934600,"close":155.26,"high":155.54,"low":155.2288,"open":155.28,"volume":183522},{"_id":"5954279246c832437737acb6","time":1496940600,"close":155.32,"high":155.36,"low":155.23,"open":155.25,"volume":79021},{"_id":"5954279246c832437737acb7","time":1496946600,"close":155.0156,"high":155.32,"low":154.89,"open":155.31,"volume":201818},{"_id":"5954279246c832437737acb8","time":1496952600,"close":155.16,"high":155.2499,"low":155.05,"open":155.05,"volume":102425},{"_id":"5954279246c832437737acb9","time":1496958600,"close":155.0904,"high":155.17,"low":155.01,"open":155.15,"volume":94567},{"_id":"5954279246c832437737acba","time":1496964600,"close":155.29,"high":155.29,"low":155.0544,"open":155.13,"volume":158646},{"_id":"5954279246c832437737acbb","time":1496970600,"close":155.4522,"high":155.48,"low":155.2594,"open":155.2899,"volume":117492},{"_id":"5954279246c832437737acbc","time":1496976600,"close":155.39,"high":155.47,"low":155.33,"open":155.4301,"volume":104000},{"_id":"5954279246c832437737acbd","time":1496982600,"close":155.235,"high":155.42,"low":155.21,"open":155.4,"volume":70894},{"_id":"5954279246c832437737acbe","time":1496988600,"close":155.26,"high":155.35,"low":155.21,"open":155.25,"volume":42347},{"_id":"5954279246c832437737acbf","time":1496994600,"close":155.23,"high":155.3182,"low":155.2182,"open":155.26,"volume":47474},{"_id":"5954279246c832437737acc0","time":1497000600,"close":155.2544,"high":155.29,"low":155.05,"open":155.23,"volume":85579},{"_id":"5954279246c832437737acc1","time":1497006600,"close":155.1,"high":155.2557,"low":155.07,"open":155.2557,"volume":72462},{"_id":"5954279246c832437737acc2","time":1497012600,"close":154.94,"high":155.14,"low":154.91,"open":155.09,"volume":110249},{"_id":"5954279346c832437737add4","time":1497015000,"close":155.1,"high":155.19,"low":155.1,"open":155.19,"volume":284257},{"_id":"5954279246c832437737acc3","time":1497018600,"close":155,"high":155.09,"low":154.9288,"open":154.93,"volume":46568},{"_id":"5954279346c832437737add5","time":1497021000,"close":155.08,"high":155.15,"low":155,"open":155.08,"volume":126120},{"_id":"5954279246c832437737acc4","time":1497024600,"close":155.01,"high":155.07,"low":154.98,"open":155,"volume":98950},{"_id":"5954279346c832437737add6","time":1497027000,"close":154.79,"high":155.11,"low":154.79,"open":155.0801,"volume":95373},{"_id":"5954279246c832437737acc5","time":1497030600,"close":154.8196,"high":155.03,"low":154.78,"open":155.01,"volume":107480},{"_id":"5954279346c832437737add7","time":1497033000,"close":154.8587,"high":154.93,"low":154.7,"open":154.79,"volume":81890},{"_id":"5954279246c832437737acc6","time":1497036600,"close":154.83,"high":154.8414,"low":154.56,"open":154.83,"volume":139092},{"_id":"5954279346c832437737add8","time":1497039000,"close":154.7732,"high":154.895,"low":154.76,"open":154.8571,"volume":69342},{"_id":"5954279246c832437737acc7","time":1497042600,"close":154.837,"high":154.89,"low":154.75,"open":154.8194,"volume":67085},{"_id":"5954279346c832437737add9","time":1497045000,"close":154.82,"high":154.84,"low":154.7,"open":154.77,"volume":75586},{"_id":"5954279246c832437737acc8","time":1497048600,"close":154.69,"high":154.85,"low":154.66,"open":154.84,"volume":77090},{"_id":"5954279346c832437737adda","time":1497051000,"close":154.8,"high":154.89,"low":154.79,"open":154.82,"volume":88086},{"_id":"5954279246c832437737acc9","time":1497054600,"close":154.5436,"high":154.73,"low":154.46,"open":154.7,"volume":112831},{"_id":"5954279346c832437737addb","time":1497057000,"close":154.791,"high":154.8401,"low":154.75,"open":154.7935,"volume":43248},{"_id":"5954279246c832437737acca","time":1497060600,"close":154.53,"high":154.61,"low":154.45,"open":154.55,"volume":112030},{"_id":"5954279346c832437737addc","time":1497063000,"close":154.66,"high":154.79,"low":154.63,"open":154.78,"volume":79097},{"_id":"5954279246c832437737accb","time":1497066600,"close":154.67,"high":154.74,"low":154.49,"open":154.54,"volume":107275},{"_id":"5954279346c832437737addd","time":1497069000,"close":154.52,"high":154.65,"low":154.41,"open":154.65,"volume":149479},{"_id":"5954279246c832437737accc","time":1497072600,"close":154.63,"high":154.75,"low":154.63,"open":154.6628,"volume":66648},{"_id":"5954279346c832437737adde","time":1497075000,"close":154.49,"high":154.5399,"low":154.42,"open":154.52,"volume":103857},{"_id":"5954279246c832437737accd","time":1497078600,"close":154.77,"high":154.8044,"low":154.59,"open":154.6376,"volume":73098},{"_id":"5954279346c832437737addf","time":1497081000,"close":154.658,"high":154.68,"low":154.47,"open":154.4899,"volume":74077},{"_id":"5954279246c832437737acce","time":1497084600,"close":154.77,"high":154.8,"low":154.76,"open":154.77,"volume":55926},{"_id":"5954279346c832437737ade0","time":1497087000,"close":154.7,"high":154.75,"low":154.6406,"open":154.67,"volume":76834},{"_id":"5954279246c832437737accf","time":1497090600,"close":154.76,"high":154.7993,"low":154.65,"open":154.78,"volume":58691},{"_id":"5954279346c832437737ade1","time":1497093000,"close":154.61,"high":154.77,"low":154.5521,"open":154.6999,"volume":80460},{"_id":"5954279246c832437737acd0","time":1497096600,"close":154.7199,"high":154.81,"low":154.705,"open":154.7501,"volume":67160},{"_id":"5954279346c832437737ade2","time":1497099000,"close":154.63,"high":154.69,"low":154.6,"open":154.6,"volume":45514},{"_id":"5954279246c832437737acd1","time":1497102600,"close":154.76,"high":154.77,"low":154.7,"open":154.712,"volume":42454},{"_id":"5954279346c832437737ade3","time":1497105000,"close":154.61,"high":154.6856,"low":154.56,"open":154.62,"volume":110217},{"_id":"5954279246c832437737acd2","time":1497108600,"close":154.76,"high":154.8099,"low":154.73,"open":154.7692,"volume":54300},{"_id":"5954279346c832437737ade4","time":1497111000,"close":154.74,"high":154.77,"low":154.61,"open":154.62,"volume":73322},{"_id":"5954279246c832437737acd3","time":1497114600,"close":154.8499,"high":154.87,"low":154.74,"open":154.74,"volume":86750},{"_id":"5954279346c832437737ade5","time":1497117000,"close":154.74,"high":154.82,"low":154.71,"open":154.74,"volume":77226},{"_id":"5954279246c832437737acd4","time":1497120600,"close":154.9,"high":154.93,"low":154.81,"open":154.84,"volume":46790},{"_id":"5954279346c832437737ade6","time":1497123000,"close":154.78,"high":154.83,"low":154.745,"open":154.75,"volume":80125},{"_id":"5954279246c832437737acd5","time":1497126600,"close":154.96,"high":154.99,"low":154.86,"open":154.9001,"volume":65543},{"_id":"5954279346c832437737ade7","time":1497129000,"close":154.94,"high":154.99,"low":154.79,"open":154.79,"volume":102777},{"_id":"5954279246c832437737acd6","time":1497132600,"close":154.85,"high":154.96,"low":154.85,"open":154.96,"volume":72042},{"_id":"5954279346c832437737ade8","time":1497135000,"close":154.94,"high":155,"low":154.9155,"open":154.9601,"volume":48266},{"_id":"5954279246c832437737acd7","time":1497138600,"close":154.9339,"high":154.98,"low":154.84,"open":154.84,"volume":38783},{"_id":"5954279346c832437737ade9","time":1497141000,"close":154.9401,"high":154.98,"low":154.8765,"open":154.94,"volume":81554},{"_id":"5954279246c832437737acd8","time":1497144600,"close":154.95,"high":154.97,"low":154.8635,"open":154.93,"volume":45434},{"_id":"5954279346c832437737adea","time":1497147000,"close":154.8868,"high":154.95,"low":154.8,"open":154.9443,"volume":51568},{"_id":"5954279246c832437737acd9","time":1497150600,"close":154.9761,"high":154.9761,"low":154.9,"open":154.95,"volume":39270},{"_id":"5954279346c832437737adeb","time":1497153000,"close":154.81,"high":154.94,"low":154.81,"open":154.88,"volume":60262},{"_id":"5954279246c832437737acda","time":1497156600,"close":155,"high":155.03,"low":154.95,"open":154.95,"volume":91667},{"_id":"5954279346c832437737adec","time":1497159000,"close":154.8099,"high":154.87,"low":154.8,"open":154.8149,"volume":62318},{"_id":"5954279246c832437737acdb","time":1497162600,"close":154.89,"high":155,"low":154.84,"open":155,"volume":83504},{"_id":"5954279346c832437737aded","time":1497165000,"close":154.69,"high":154.8,"low":154.66,"open":154.8,"volume":64884},{"_id":"5954279246c832437737acdc","time":1497168600,"close":154.7301,"high":154.8999,"low":154.73,"open":154.89,"volume":97286},{"_id":"5954279346c832437737adee","time":1497171000,"close":154.79,"high":154.8,"low":154.65,"open":154.69,"volume":68691},{"_id":"5954279246c832437737acdd","time":1497174600,"close":154.73,"high":154.8,"low":154.7,"open":154.74,"volume":70277},{"_id":"5954279346c832437737adef","time":1497177000,"close":154.84,"high":154.85,"low":154.75,"open":154.79,"volume":52551},{"_id":"5954279246c832437737acde","time":1497180600,"close":154.8006,"high":154.85,"low":154.72,"open":154.72,"volume":39016},{"_id":"5954279346c832437737adf0","time":1497183000,"close":154.95,"high":154.98,"low":154.8,"open":154.85,"volume":52093},{"_id":"5954279246c832437737acdf","time":1497186600,"close":154.75,"high":154.84,"low":154.74,"open":154.8173,"volume":42331},{"_id":"5954279346c832437737adf1","time":1497189000,"close":154.86,"high":154.97,"low":154.84,"open":154.952,"volume":34448},{"_id":"5954279246c832437737ace0","time":1497192600,"close":154.64,"high":154.809,"low":154.63,"open":154.76,"volume":68957},{"_id":"5954279346c832437737adf2","time":1497195000,"close":154.82,"high":154.885,"low":154.8163,"open":154.87,"volume":32806},{"_id":"5954279246c832437737ace1","time":1497198600,"close":154.52,"high":154.64,"low":154.51,"open":154.635,"volume":82544},{"_id":"5954279346c832437737adf3","time":1497201000,"close":154.735,"high":154.822,"low":154.71,"open":154.822,"volume":59058},{"_id":"5954279246c832437737ace2","time":1497204600,"close":154.6158,"high":154.63,"low":154.46,"open":154.53,"volume":132244}];   
        var newData=[];
        for(var i=1;i<75;i++){
            stockData[i].time=(1496928600)+i*60000;
        }
        for(var i=0;i<50;i++){
            d=new Date(stockData[i].time);
            place=[d,stockData[i].low,stockData[i].open,stockData[i].close,stockData[i].high];
            newData.push(place);
        }
        google.charts.load('current', {'packages':['corechart']});
        google.charts.setOnLoadCallback(drawChart);
        function drawChart() {
            var data = google.visualization.arrayToDataTable(newData, true);
        
            var options = {
                legend: 'none',
                bar: { groupWidth: '100%' }, // Remove space between bars.
                candlestick: {
                    fallingColor: { strokeWidth: 0, fill: '#a52714' }, // red
                    risingColor: { strokeWidth: 0, fill: '#0f9d58' }   // green
                }
            };
            var chart = new google.visualization.CandlestickChart(document.getElementById('chart_div'));
            chart.draw(data, options);
            setInterval(() => update(data, options), 5 * 1000);
            function update(data,options){
                var d2=new Date(stockData[50].time);
                newData.push([d2,stockData[50].low,stockData[50].open,stockData[50].close,stockData[50].high])//pushes new data to use
                data=google.visualization.arrayToDataTable(newData, true);
                chart.draw(data,options);
            }
           
        }
    </script>
  </head>
  <body>
      <h2 style="color:grey;">AAPL</h2>
    <div id="chart_div" style="margin-left:-100px;width: 1700px; height: 500px;"></div>
  </body>
</html>
